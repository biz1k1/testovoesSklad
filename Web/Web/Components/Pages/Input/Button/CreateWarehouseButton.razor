@using Web.Services
@inject StateMessageService StateMessageService
@rendermode InteractiveServer

<div>
    <div class="page">
        <main>
            <div >
                <div class="buttonCreate">
                    <RadzenStack Orientation="Orientation.Vertical" AlignItems="AlignItems.Center" Gap="1rem" Wrap="FlexWrap.Wrap">
                        <RadzenButton ButtonType="ButtonType.Submit" Click="OnClick" Text="Добавить склад" ButtonStyle="ButtonStyle.Primary" Disabled="false" />
                    </RadzenStack>
                </div>
            </div>
        </main>

    </div>
</div>

@code {
    [Inject] private IHttpClientFactory HttpClientFactory { get; set; } = default!;

    private async Task OnClick()
    {
        var httpClient = HttpClientFactory.CreateClient();

        try
        {
            //await httpClient.PostAsync("https://localhost:7294/Warehouse/Warehouse", null);

            await StateMessageService.NotifyStateChangedAsync();
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error: {ex.Message}");
        }
    }


}
